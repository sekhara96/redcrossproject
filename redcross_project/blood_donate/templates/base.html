<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>{{title}}</title>
    {% load static %}
    <link rel="icon" href="{%static 'base/images/233_-_blood-512.png'%}" /> {%block head%} {%endblock%}
    <link rel="icon" href="Img/233_-_blood-512.png" />
    <!---------------------------------------------bootstrap icon cdn-------------------------------------->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.6.1/font/bootstrap-icons.css" />
    <!---------------------------------------------bootstrap cdn------------------------------------------>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous" />

    <link rel="stylesheet" href="https://pro.fontawesome.com/releases/v5.10.0/css/all.css" integrity="sha384-AYmEC3Yw5cVb3ZcuHtOA93w35dYTsvhLPVnYs9eStHfGJvOvKxVfELGroGkvsg+p" crossorigin="anonymous" />

    <!--------------------------------------------main css------------------------------------------------->
   
    <link href="https://cdn.jsdelivr.net/npm/remixicon@2.5.0/fonts/remixicon.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" >

    <link rel="stylesheet" href="{%static 'base/css/style.css'%}" />
<style>
  /*=============== GOOGLE FONTS ===============*/
@import url("https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600&display=swap");
/*=============== VARIABLES CSS ===============*/


  @import url('https://fonts.googleapis.com/css2?family=Fredericka+the+Great&family=Tilt+Prism&display=swap');
  #smoverlay{
    display: none;
  }
*{
  font-family: 'Poppins' , sans-serif;
 
}

@keyframes glowing {
  0% {
    background-color: #e52527;
    box-shadow: 0 0 10px #e52527;
  }
  50% {
    background-color: #b41d20;
    box-shadow: 0 0 20px #e9292d;
  }
  100% {
    background-color: #bb1d20;
    box-shadow: 0 0 10px #e52527;
  }
}
.sm{
  display: none;
}

.buttonn {
  animation: glowing 1200ms infinite;
  display: inline-block;
  padding: 10px 20px;
  border: none;
  color: white;
  font-size: 16px;
  background-color: #5f2223;
  cursor: pointer;
  transition: background-color 0.6s ease-in-out; /* Add transition for smooth color change */
}

.buttonn:hover {
  animation: none;
  background-color: #e9292d;
  box-shadow: 0 0 20px #e9292d;
}
@import url('https://fonts.googleapis.com/css2?family=Montserrat:wght@500');

div.navbar-collapse ul li a {
  display: block;
    padding: 10px 10px 10px 5px;
    color: #ffffff;
    text-align: center;
    line-height: 24px;
    letter-spacing: 0.05em;
    text-transform: uppercase;
    font-weight: 600;
    opacity: 1;
    font-size: 12px;
    font-family: 'Montserrat',sans-serif !important;
    
}

 
div.navbar-collapse ul li a:hover{
  background: #e45b1f;
  
  color: #ffffff;
}
.regdnrbtn{
    position: relative;
    font-family: 'Montserrat', sans-serif;
    padding: 9px 30px;
    line-height: 28px;
    text-transform: uppercase;
    background: #e45b1f;
    color: #ffffff ; 
    letter-spacing: 0px;
    border: 2px solid #e45b1f;
    font-size: 14px;
    font-weight: 600;
    border-radius: 5px;
}
.regdnrbtnres{
  font-family: 'Montserrat', sans-serif;
    padding: 9px 30px;
  
    text-transform: uppercase;
    background: #e45b1f;
    color: #ffffff ; 
   
    border: 2px solid #e45b1f;
    font-size: 14px;
    font-weight: 600;
    border-radius: 5px;
    }

.regdnrbtnres:hover,  .regdnrbtn:hover {
 color:#ffffff !important;
 background: none;
 border: 2px solid #ffffff;
}
.logindnrbtnres{
  font-family: 'Montserrat', sans-serif;
    padding: 9px 30px;
   
    text-transform: uppercase;
    background: none;
    color: #e45b1f;
   
    border: 2px solid #e45b1f;
    font-size: 14px;
    font-weight: 600;
    border-radius: 5px;
  
    
}
.logindnrbtn{

    position: relative;
    font-family: 'Montserrat', sans-serif;
    padding: 9px 30px;
    line-height: 28px;
    text-transform: uppercase;
    background: none;
    color: #e45b1f;
    letter-spacing: 0px;
    border: 2px solid #e45b1f;
    font-size: 14px;
    font-weight: 600;
    border-radius: 5px;
    margin-right: 30px;
    

}

 .logindnrbtnres:hover ,.logindnrbtn:hover {
  border: 2px solid #ffffff;
  color: #ffffff !important;
}

.info-box {
    position: relative;
    float: right;
    margin-left: 40px;
    padding-left: 50px;
    min-height: 50px;
    
}

#smbox{
  display:block;
}
.duser::first-letter{
 text-transform: capitalize;
}
.sticky-navbar {
        background-color: #e45b1f !important; /* Change to your desired orange color */
        
    }
    .activee
    {
      background-color: #e45b1f  !important ;
      border: #333 2px solid;
      border-radius: 12px;
      
    }
    .navbar-nav{
      display: flex;
  flex-wrap:wrap; 
  -webkit-overflow-scrolling: touch; 

    }
  
    .custom-navbar-nav {
  display: flex;
  flex-wrap:wrap; 
  -webkit-overflow-scrolling: touch; 
}
.navbar-nav .nav-item {
  flex: 0 0 auto; 
}
.navbar-nav .nav-link {
  white-space: nowrap;
  overflow: hidden; 
  text-overflow: ellipsis; 
  padding: 0.5rem 1rem; 
}


      </style>


<style>
    .dropcursor {
  color: white;
  padding: 16px;
  font-size: 16px;
  border: none;
}

.dropdown {
  position: relative;
  display: inline-block;
  
}

.dropdown-content {
  display:none;
  position:relative;
  min-width: 100px;
  box-shadow: 0px 8px 16px 0px rgba(197, 85, 85, 0.2);
  z-index:13;
}

.dropdown-content a {
  color: rgb(241, 234, 234);
  padding: 12px 16px;
  text-decoration: none;
  display: inline-table;
  z-index: 2;
  background-color: #e93333;
  min-width: 160px;
  box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.2);
 

}

h1 {
  position: relative;
  padding: 0;
  margin: 0;
  font-family: "Poppins", sans-serif;
  font-weight: 300;
  font-size: 40px;
  color: #080808;
  -webkit-transition: all 0.4s ease 0s;
  -o-transition: all 0.4s ease 0s;
  transition: all 0.4s ease 0s;
}

h1 span {
  display: block;
  font-size: 0.5em;
  line-height: 1.3;
}
h1 em {
  font-style: normal;
  font-weight: 600;
}

/* === HEADING STYLE #1 === */
.one h1 {
  text-align: center;
  text-transform: uppercase;
  padding-bottom: 5px;
}
.one h1:before {
  width: 28px;
  height: 5px;
  display: block;
  content: "";
  position: absolute;
  bottom: 3px;
  left: 50%;
  margin-left: -14px;
  background-color: #b80000;
}
.one h1:after {
  width: 100px;
  height: 1px;
  display: block;
  content: "";
  position: relative;
  margin-top: 25px;
  left: 50%;
  margin-left: -50px;
  background-color: #b80000;
}
</style>
  </head>

<body  >
  {% load user_agents %}
  {% if request|is_pc %}
  <div class="header ">
    <img src="/media/navbarimage2.png" alt="" class="img-fluid w-100">

    <div class="card-img-overlay  mt-lg-3 mt-md-5 mt-sm-5" id="lgoverlay">
        <div class="info-box justify-content-around">
            {% if user.is_authenticated %}
         
              <div class="btn-group" style="position: relative;z-index:1200;">
                <button class="btn btn-secondary btn-lg dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false">
                    Hi, {{ user.username }}!
                </button>
    
                <ul class="dropdown-menu bg-dark" style="position: absolute; z-index: 1000; left: 0; top: 100%;">
                    <li><a href="/donor_details/{{user.donor.id}}/"><i class="fa fa-user p-1 m-1"></i>My Profile</a></li>
                    <li><hr class="dropdown-divider"></li>
                    <li class="font-size-md"><a href="/donor_logout/" class="text-light text-center">Logout</a></li>
                </ul>
            </div>
            

            <!-- <h3 class="mt-3 mt-md-0">Hi, {{ user.username }}!<a href="/donor_logout/" class="btn btn-danger ml-2">Logout</a></h3> -->
            {% else %}
            <a href="/donor_register/" style="text-decoration: none;" class="regdnrbtn">
                <i class="fa fa-user-alt"></i> Register
            </a>
            <a id="showLogin" style="text-decoration: none;" class="ml-2 logindnrbtn">
                <i class="fa fa-lock"></i> Login
            </a>
            {% include "doner-login2.html" %}
            {% endif %}
        </div>
    </div>
</div>
{% else %}
<div class="header " style="height: auto;">
 
<img src="/media/navbarimage3.png" alt=""    class="img-fluid" >
 
</div>

  {% if user.is_authenticated %}

 
 
  <!-- <h3 class="mt-3 mt-md-0">Hi, {{ user.username }}!<a href="/donor_logout/" class="btn btn-danger ml-2">Logout</a></h3> -->
  {% else %}
 <div class="container-fluid  " style="margin-bottom: -39px;padding-bottom: 5px;background-color: #333;" >
  <div class="btn d-flex justify-content-around">
  <a href="/donor_register/" style="text-decoration: none;" class="regdnrbtnres">
      <i class="fa fa-user-alt"></i> Register
  </a>
  <a id="showLogin" style="text-decoration: none;" class=" logindnrbtnres">
    <i class="fa fa-lock"></i> Login
</a>
</div>
</div>
  {% include "doner-login2.html" %}

  {% endif %}

{% endif %}
  <!-- <div class="info-box">
    {% if user.is_authenticated %}
  
    <nav class="nav-menu">
      <div class="dropdown">
        <cursor class="dropcursor">
          <h3 class="mt-3 mt-md -0" style="color: black;">Hi, {{ user.username }}! <i class="fa fa-user-circle-o"  style="color: #393534;" aria-hidden="true" ></i></a></h3>
        </cursor>
        <div class="dropdown-content">
          <a href="/donor_update/{{user.donor.id}}/">update profile</a><br>

         
          <a href="/donor_logout/">logout</a>
          </div>
          
        </div>
      </div>
    </nav>


    <h3 class="mt-3 mt-md-0  ">Hi, {{ user.username }}!
    <a href="/donor_logout/" class="btn btn-danger ml-2">Logout</a>
    {% else %}
    <a href="/pre_registration_page" style="text-decoration: none;" class="regdnrbtn">
        <i class="fa fa-user-alt"></i> Register
    </a>
{% endif %}
    
  

   
<div></div> -->
  <!-- <div class="header " style="background-color: #333;">
    <div class="container-fluid ">
        <div class="row ">
            <div class="col-md-2 ">
              <a class="navbar-brand" href="/" >
                          <img src="/media/3Lifes2support-removebg-preview (2).png" alt="#" width="120%" height="100px"   >
              </a>

            </div>
              <div class="col-md-4 mt-3">
                <h1 style="font-family: 'Fredericka the Great', cursive;color: #ffffff;">3LIFES2SUPPORT</h1>
                <h4 class="text-danger ml-5"> DONATE BLOOD GIVE LIFE</h4>

              </div>
              <div class="col-md-6 mt-5 ">
                <div class="info-box" >
                  {% if user.is_authenticated %}
                 
                <h3 class="text-info " style="margin-left: -150px;margin-top: -40px;"> Hi, <h3 class="duser text-info  " style="margin-left: -150px;">{{user.username}}!  <a  href="/donor_logout/" class="btn btn-danger">Logout</a></h3>   </h3> 
             
               
                  {% else %}
               
<a href="/donor_register/" style="text-decoration: none;" class="regdnrbtn" ><i class="fa fa-user-alt"> </i> Register </a>
<a href="/donor_login/" id="showLogin" style="text-decoration: none;" class=" ml-2 logindnrbtn"><i class="fa fa-lock" ></i> Login </a>


{% endif %}
</div>
              </div>
        
        
    </div>
</div></div> -->



    <!----------------------------------------------------------------------------------------------
                                                                Navbar
    ----------------------------------------------------------------------------------------------->
    {% load custom_tags %}
    <nav class="navbar navbar-expand-lg sticky-top   navbar-dark"  style="background-color: #333;">
      <div class="container-fluid">
          <!-- <a class="navbar-brand" href="/">
            <img src="/media/3Lifes2support-removebg-preview.png" alt="#" width="120%" height="120px" >
          </a> -->
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>
        
        {% if request|is_mobile %}
            {% if user.is_authenticated %}
                <div class="btn-group" style="position: relative;">
                    <button class="btn btn-secondary btn-lg dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false">
                        Hi, {{ user.username }}!
                    </button>
        
                    <ul class="dropdown-menu bg-dark" style="position: absolute; z-index: 1000; left: 0; top: 100%;">
                        <li><a href="/donor_details/{{user.donor.id}}/"><i class="fa fa-user p-1 m-1"></i>My Profile</a></li>
                        <li><hr class="dropdown-divider"></li>
                        <li class="font-size-md"><a href="/donor_logout/" class="text-light text-center">Logout</a></li>
                    </ul>
                </div>
            {% endif %}
        {% endif %}
          <div class="collapse navbar-collapse" id="navbarSupportedContent">
              <ul class=" navbar-nav  ms-5 ">
                {% for admin_drop in admin_drops %}
  
                {% if admin_drop.subdrop.exists %}
                  <li class="nav-item dropdown {% if admin_drop.is_active %}activee{% endif %}"  >
                   
                      <a class="nav-link dropdown-toggle" id="navbarDropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                        {{ admin_drop.nav_name }} 
                        <!-- <img class="user_profile_image" src="media/{{user_profile_info.profile_pic}}" alt=""> -->
                      </a>
                      <ul class="dropdown-menu bg-dark" aria-labelledby="navbarDropdown">
                          <!-- <li><a class="dropdown-item" href="">Profile</a></li> -->
                          <!-- <li>
                              <hr class="dropdown-divider" />
                          </li> -->
                          {% for subdrop in admin_drop.subdrop.all %}
                        
                        <li class=" {% if request.path == subdrop.nav_url %}activee{% endif %}" > <a class="dropdown-item " href="{{subdrop.nav_url}}" style="text-align: start;padding-left: 20px;padding-right: 20px;">{{ subdrop.nav_name }}</a> </li> 
                        {% endfor %}
                          
                      </ul>
                      {% else %}
                      
                
                 
                <li class="nav-item {% if request.path == admin_drop.nav_url %}activee{% endif %} " style="text-align: start;padding-left: 15px;padding-right: 15px;" >
                    <a class="nav-link " href="{{admin_drop.nav_url}}">{{ admin_drop.nav_name }}</a>
                </li>
               
               
                  {% endif %}
                
                {% endfor %} 
  
                     
  
                  </li>
  
              </ul>
    </div>
    <div class="col-md-2 mt-2">
    {% if user.is_authenticated %}
    
              {% if user.donor.days_until_next_donation <= 0 %}
              <a id="showForm" ><li class="buttonn float-right btn-lg  h-50 mr-lg-3">Last Donated Details<i style="padding: 5px;" class="fa-solid fa-wave-tria"></i></li></a>
              {% include 'bloodrequestform.html' %}
              {% else %}
        <marquee behavior="" direction="" class="bg-dark">   <h4 class="text-danger">You are eligible to donate again in {{ user.donor.days_until_next_donation }} days.</h4>   </marquee>   
              {% endif %}
   
      {% endif %}
    </div>
      </div>
  </nav>

  
  
    <!----------------------------------------------------------------------------------------------
                                        Body contant 
        ----------------------------------------------------------------------------------------------->
    {%block body%} {%endblock%}



    <!------------------------------------------------------------------------------------------------------
                                                                    section 8 - Footer

        -------------------------------------------------------------------------------------------------------->

    

    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js" integrity="sha384-IQsoLXl5PILFhosVNubq5LC7Qb9DXgDA9i+tQ8Zj3iwWAwPtgFTxbJ8NT4GN1R8p" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.min.js" integrity="sha384-cVKIPhGWiC2Al4u+LWgxfKTRIcfu0JTxR+EQDz/bgldoEyl4H0zUF0QKbrJ0EcQF" crossorigin="anonymous"></script>
    <script >
      /*=============== SHOW MENU ===============*/
const showMenu = (toggleId, navId) =>{
   const toggle = document.getElementById(toggleId),
         nav = document.getElementById(navId)

   toggle.addEventListener('click', () =>{
       // Add show-menu class to nav menu
       nav.classList.toggle('show-menu')
       // Add show-icon to show and hide menu icon
       toggle.classList.toggle('show-icon')
   })
}

showMenu('nav-toggle','nav-menu')

/*=============== SHOW DROPDOWN MENU ===============*/
const dropdownItems = document.querySelectorAll('.dropdown__item')

// 1. Select each dropdown item
dropdownItems.forEach((item) =>{
    const dropdownButton = item.querySelector('.dropdown__button') 

    // 2. Select each button click
    dropdownButton.addEventListener('click', () =>{
        // 7. Select the current show-dropdown class
        const showDropdown = document.querySelector('.show-dropdown')
        
        // 5. Call the toggleItem function
        toggleItem(item)

        // 8. Remove the show-dropdown class from other items
        if(showDropdown && showDropdown!== item){
            toggleItem(showDropdown)
        }
    })
})

// 3. Create a function to display the dropdown
const toggleItem = (item) =>{
    // 3.1. Select each dropdown content
    const dropdownContainer = item.querySelector('.dropdown__container')

    // 6. If the same item contains the show-dropdown class, remove
    if(item.classList.contains('show-dropdown')){
        dropdownContainer.removeAttribute('style')
        item.classList.remove('show-dropdown')
    } else{
        // 4. Add the maximum height to the dropdown content and add the show-dropdown class
        dropdownContainer.style.height = dropdownContainer.scrollHeight + 'px'
        item.classList.add('show-dropdown')
    }
}

/*=============== DELETE DROPDOWN STYLES ===============*/
const mediaQuery = matchMedia('(min-width: 1118px)'),
      dropdownContainer = document.querySelectorAll('.dropdown__container')

// Function to remove dropdown styles in mobile mode when browser resizes
const removeStyle = () =>{
    // Validate if the media query reaches 1118px
    if(mediaQuery.matches){
        // Remove the dropdown container height style
        dropdownContainer.forEach((e) =>{
            e.removeAttribute('style')
        })

        // Remove the show-dropdown class from dropdown item
        dropdownItems.forEach((e) =>{
            e.classList.remove('show-dropdown')
        })
    }
}

addEventListener('resize', removeStyle)

    </script>
 
      {% include "appfooter.html" %}
   
   

</body>

</html>
